<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/indext5.css">
    <title>Document</title>
</head>

<body>
    <nav>
        <div class="nav-start">
            <img src="img/logo.png" alt="">
        </div>
        <div class="nav-end">
            <ul id="menuXDX">
                <li><a class="btnXD" target="_blank" href="dt.html">Document</a></li>
                <li class="drob">
                    <a class="btnXD" href="register.html">Signup</a>
                    <!-- <ul class="menudrob">
                        <li><a class="menulink" href="">1</a></li>
                        <li><a class="menulink" href="">1</a></li>
                        <li><a class="menulink" href="">1</a></li>
                    </ul> -->
                </li>
                <li><a class="btnXD" href="cookie.html">Login</a></li>
            </ul>
        </div>
    </nav>
    <div class="box">

        <div class="contentcontainer">
            <div class="boxcontext">
                <div class="contentstart">
                    <span class="titelast">The Last Kamen Rider: Kamen Rider Gates</span>
                    <span class="lastlogo"><img src="img/Kamen_Rider_Geats_Logo.png" alt=""></span>
                    <img class="imglast" src="img/lastrider.jpg" alt="">
                </div>
                <div class="contentend">
                    <div class="erabox">
                        <div class="imgbox">
                            <img src="img/showa.png" alt="">
                        </div>
                        <div class="eraname">
                            <span>Showa-era Riders are Kamen Riders from the Sh≈çwa Period of Japan, which took place from 1926 to 1989.</span>
                        </div>
                    </div>
                    <div class="erabox">
                        <div class="imgbox">
                            <img src="img/d9hmn27-fb4745bc-6d72-443c-a531-65a735e88698.png" alt="">
                        </div>
                        <div class="eraname">
                            <span>Heisei-era from January 8, 1989, the first day after the death of the previous Emperor, Hirohito, father of Akihito, to his abdication on April 30th, 2019, announced years earlier, in August 2016</span>
                        </div>
                    </div>
                    <div class="erabox">
                        <div class="imgbox">
                            <img src="img/ddj41qd-ef13e63e-5d7a-4028-a12c-479efb22a279.png" alt="">
                        </div>
                        <div class="eraname">
                            <span> Reiwa-era the current period in Japanese history, coming after the Heisei period on May 1, 2019</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="boxheadf">
                <p class="bocfera" style="text-align: center;">Top 5 Kamen Rider Vote</p>
            </div>
            <div class="hboxfirst">
                <div class="boxfirstrider">
                    <div class="cardrider">
                        <div class="imgkamenf">
                            <img data-name="v1" class="imgfirstX" src="img\logorider\showa\01.png" alt="">
                        </div>
                        <div data-name="v1" class="card-title">
                            <span>Kamen rider v1</span>
                        </div>
                    </div>
                    <div class="cardrider">
                        <div class="imgkamenf">
                            <img data-name="kuga" class="imgfirstX" src="img\logorider\Heisei\01.webp" alt="">
                        </div>
                        <div data-name="kuga" class="card-title">
                            <span>Kamen rider kuuga</span>
                        </div>
                    </div>
                    <div class="cardrider">
                        <div class="imgkamenf">
                            <img data-name="zeroone" class="imgfirstX" src="img\logorider\Reiwa\01.webp" alt="">
                        </div>
                        <div data-name="zeroone" class="card-title">
                            <span>Kamen rider zero one</span>
                        </div>
                    </div>
                    <div class="cardrider">
                        <div class="imgkamenf">
                            <img data-name="zeroone" class="imgfirstX" src="img\logorider\Heisei\02.webp" alt="">
                        </div>
                        <div data-name="zeroone" class="card-title">
                            <span>Kamen rider zero one</span>
                        </div>
                    </div>
                    <div class="cardrider">
                        <div class="imgkamenf">
                            <img data-name="zeroone" class="imgfirstX" src="img\logorider\Heisei\03.webp" alt="">
                        </div>
                        <div data-name="zeroone" class="card-title">
                            <span>Kamen rider zero one</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- <div class="boxlogo">
                <div class="logotitel">
                    <div class="linex"></div>
                    <span class="nameeraX">Showa</span>
                    <div class="linex"></div>
                </div>
                <div class="logocontainer">
                    <div class="boxlogoimg showabox">
                        <div class="boximgtitle">
                            <div class="boxtimg">
                                <img src="img/logorider/showa/01.png" alt="">
                            </div>
                            <span>Kamen Rider</span>
                        </div>
                    </div>
                </div>
                <div class="logotitel">
                    <div class="linex"></div>
                    <span class="nameeraX">Heisei</span>
                    <div class="linex"></div>
                </div>
                <div class="logocontainer">
                    <div class="boxlogoimg heisebox">

                    </div>
                </div>
                <div class="logotitel">
                    <div class="linex"></div>
                    <span class="nameeraX">Reiwa</span>
                    <div class="linex"></div>
                </div>
            </div> -->
        </div>
    </div>
    <div class="databox">
        <div class="datakamenbox">
            <div class="navdataXD">
                <ul>
                    <li id="menuiconXD" data-name="showa" class="activenav">
                        <button data-name="showa" id="menulinkdata" class="menulinkdata" type="button">XDXD</button>
                    </li>
                    <li id="menuiconXD" data-name="heisei">
                        <button data-name="heisei" id="menulinkdata" class="menulinkdata" type="button">XDXD</button>
                    </li>
                    <li id="menuiconXD">
                        <button data-name="reiwa" data-name="reiwa" id="menulinkdata" class="menulinkdata" type="button">XDXD</button>
                    </li>
                </ul>
            </div>
            <div class="navdata">
                <div id="boxiconx" class="boxiconx">
                </div>
            </div>

        </div>
    </div>
    <!-- <div class="databox" style="height: 100vh;">
        <div class="datakamenbox">
            <div class="navdata">
                <ul>
                    <li class="activenav">
                        <button class="menulinkdata" type="button">XDXD</button>
                    </li>
                    <li>
                        <button class="menulinkdata" type="button">XDXD</button>
                    </li>
                    <li>
                        <button class="menulinkdata" type="button">XDXD</button>
                    </li>
                </ul>
            </div>
        </div>
    </div> -->
</body>
<script src="js/observer.js"></script>
<script>
    var boxlogoimg = document.querySelector('.boxlogoimg')
    var showabox = document.querySelector('.showabox')
    var heisebox = document.querySelector('.heisebox')
    var imgfirstX = document.querySelectorAll('.imgfirstX')
    var cardtitle = document.querySelectorAll('.card-title')
    var menuXDX = document.getElementById('menuXDX');
    var boxiconx = document.getElementById('boxiconx');
    var menulinkdata = document.querySelectorAll('#menulinkdata')
    var menuiconXD = document.querySelectorAll('#menuiconXD')
    var slidex = null;

    var createicon = () => {
        for (let index = 1; index <= 9; index++) {
            let cardicon = document.createElement('div')
            cardicon.classList.add('cardicon')
            boxiconx.appendChild(cardicon)
            let imgxd = document.createElement('img')
            imgxd.classList.add('imgiconX')
            imgxd.src = 'img/logorider/showa/0' + index + '.png'
            cardicon.appendChild(imgxd)
            let nametag = document.createElement('div')
            nametag.classList.add('nametag')
            nametag.textContent = "OK"
            cardicon.appendChild(nametag)
        }
    }

    menulinkdata.forEach(e => {

        e.addEventListener('click', (ex) => {
            console.log(ex.target.dataset.name);
            if (ex.target.dataset.name == 'showa') {
                boxiconx.innerHTML = "";
                menuiconXD.forEach(e => {
                    if (e.getAttribute('data-name') == ex.target.dataset.name) {
                        e.classList.add('activenav')
                    } else {
                        e.classList.remove('activenav')
                    }
                })
                for (let index = 1; index <= 9; index++) {
                    let cardicon = document.createElement('div')
                    cardicon.classList.add('cardicon')
                    boxiconx.appendChild(cardicon)
                    let imgxd = document.createElement('img')
                    imgxd.classList.add('imgiconX')
                    imgxd.src = 'img/logorider/showa/0' + index + '.png'
                    cardicon.appendChild(imgxd)
                    let nametag = document.createElement('div')
                    nametag.classList.add('nametag')
                    nametag.textContent = "OK"
                    cardicon.appendChild(nametag)
                }
            } else if (ex.target.dataset.name == 'heisei') {
                boxiconx.innerHTML = "";
                menuiconXD.forEach(e => {
                    if (e.getAttribute('data-name') == ex.target.dataset.name) {
                        e.classList.add('activenav')
                    } else {
                        e.classList.remove('activenav')
                    }
                })
                for (let index = 1; index <= 20; index++) {
                    let cardicon = document.createElement('div')
                    cardicon.classList.add('cardicon')
                    boxiconx.appendChild(cardicon)
                    let imgxd = document.createElement('img')
                    imgxd.classList.add('imgiconX')
                    imgxd.src = 'img/logorider/Heisei/0' + index + '.webp'
                    cardicon.appendChild(imgxd)
                    let nametag = document.createElement('div')
                    nametag.classList.add('nametag')
                    nametag.textContent = "OK"
                    cardicon.appendChild(nametag)
                }
            }
        })
    })



    // for (let index = 2; index <= 9; index++) {
    //     showabox.innerHTML += '<div class="boximgtitle">' +
    //         '<div class="boxtimg">' +
    //         '<img src="img/logorider/showa/0' + (index) + '.png" alt="">' +
    //         '</div>' +
    //         '<span>Kamen Rider</span>' +
    //         '</div>'
    // }
    // for (let i = 1; i <= 20; i++) {
    //     heisebox.innerHTML += '<div class="boximgtitle">' +
    //         '<div class="boxtimg">' +
    //         '<img src="img/logorider/Heisei/0' + (i) + '.webp" alt="">' +
    //         '</div>' +
    //         '<span>Kamen Rider</span>' +
    //         '</div>'
    // }

    // setInterval(() => {
    //     var maxScrollLeft = showabox.scrollWidth - showabox.clientWidth
    //     if (Math.floor(showabox.scrollLeft) < maxScrollLeft) {
    //         showabox.scrollLeft += 220
    //     } else {
    //         showabox.scrollLeft = 0
    //     }
    //     // console.log(boxlogoimg.scrollLeft);
    //     // console.log(maxScrollLeft);
    // }, 1500)

    // setInterval(() => {
    //     var maxScrollLefts = heisebox.scrollWidth - heisebox.clientWidth
    //     if (Math.floor(heisebox.scrollLeft) < maxScrollLefts) {
    //         heisebox.scrollLeft += 210
    //     } else {
    //         heisebox.scrollLeft = 0
    //     }
    // }, 2500)

    imgfirstX.forEach(e => {
        e.addEventListener('mouseover', ex => {
            // console.log(ex.target.dataset.name);
            cardtitle.forEach(e => {
                if (ex.target.dataset.name == e.dataset.name) {
                    // console.log("OK");
                    e.style.width = "100%"
                    e.style.opacity = "1"
                    e.style.height = "auto"
                }
            })
        })
    })

    function Checkcook(cookname) {
        var coookie = document.cookie.split(';')
        for (const key in coookie) {
            var cookies = coookie[key].trim();
            if (cookies.indexOf(cookname) === 0) {
                cookbool = true
                break
            } else {
                cookbool = false
            }
        }
    }

    function getcook(cookname) {
        var coookie = document.cookie.split(';')
        for (const key in coookie) {
            var cookies = coookie[key].trim();
            if (cookies.indexOf(cookname) === 0) {
                return cookies.substring(cookname.length + 1, cookies.length);
            }
        }
        return null
    }

    window.onload = async() => {
        createicon();
        Checkcook("username")
        console.log(cookbool);
        if (cookbool === true) {
            try {
                const resx = await fetch('php/rest.php?user=' + getcook("username"), {
                    method: 'GET'
                })
                if (resx.ok) {
                    const datax = await resx.json();
                    console.log(datax);
                    menuXDX.innerHTML = '<li><a class="btnXD" target="_blank" href="dt.html">Document</a></li>' +
                        ' <li class="drob">' +
                        '  <a class="btnXD" href="#">' + (datax[0].u_username) + '</a>' +
                        '  <ul class="menudrob">' +
                        '<li><a class="menulink" href="php/logout.php">logout</a></li>' +
                        ' </ul>' +
                        ' </li>'
                } else {
                    throw new Error(resx.status)
                }
            } catch (ex) {
                console.log(ex.message);
            }
        } else {
            menuXDX.innerHTML = '<li><a class="btnXD" target="_blank" href="dt.html">Document</a></li>' +
                ' <li class="drob">' +
                '  <a class="btnXD" href="register.html">Signup</a>' +
                ' </li>' +
                '<li><a class="btnXD" href="cookie.html">Login</a></li>'
        }
    }
</script>

</html>